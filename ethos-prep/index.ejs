/// <reference path="index.d.ts" />
var structure = <%- JSON.stringify(structure).replace(/"getVersions:(.*?):(.*?)"/g, "async () => (await import(/* webpackChunkName: 'ethos.$1' */ './$1.js'))['$2']") %>
var resources = {}

function crawl(domain) {
    for (const entry of Object.values(domain)) {
        if (entry.resource) {
            resources[entry.resource] = entry
            const load = entry.getVersions
            entry.getVersions = async () => entry.versions = await load()
        } else {
            crawl(entry)
        }
    }
}
crawl(structure)

module.exports = { structure, resources }